<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title th:text="#{pages.hourly-result-form.title}">Wedder Forecast | Hourly result form</title>
  <link rel="shortcut icon" th:href="@{/images/favicon.ico}">

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" th:href="@{/plugins/fontawesome-free/css/all.min.css}">
  <!-- icheck bootstrap -->
  <link rel="stylesheet" th:href="@{/plugins/icheck-bootstrap/icheck-bootstrap.min.css}">
  <!-- Theme style -->
  <link rel="stylesheet" th:href="@{/dist/css/adminlte.min.css}">
  <!-- flag-icon-css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.3.0/css/flag-icon.min.css">
  <!-- Google Maps Autocomplete -->
  <link rel="stylesheet" type="text/css" th:href="@{/css/google-maps-autocomplete-form.css}"/>
</head>
<body class="hold-transition sidebar-mini">
  <div class="wrapper">

    <!-- Navbar -->
    <div th:replace="fragments/navbar :: navbar">
      Navbar
    </div>

    <!-- Main Sidebar Container -->
    <div th:replace="fragments/sidebar :: sidebar">
      Main Sidebar Container
    </div>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1 class="m-0"><span th:text="#{pages.hourly-result-form.welcome}">Welcome</span></h1>
            </div><!-- /.col -->
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a th:href="@{/}"><i class="fas fa-dove"></i> <b>Wedder</b> Forecast <i
                        class="fas fa-cloud-sun-rain"></i></a></li>
                <li class="breadcrumb-item"><a th:href="@{/user/dashboard}">User</a></li>
                <li class="breadcrumb-item active" th:text="#{pages.hourly-result-form}">Hourly result form</li>
              </ol>
            </div><!-- /.col -->
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->

      <!-- Main content -->
      <div class="content">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col">
              <div class="info-box bg-gradient-primary">
                <span class="info-box-icon"><i class="fas fa-clock"></i></span>
                <div class="info-box-content">
                  <h4 class="info-box-text"><strong>Hourly result form</strong></h4>
                </div>
                <!-- /.info-box-content -->
              </div>
              <!-- /.info-box -->
            </div>
          </div>

          <div class="row">
            <div class="col">
              <div class="card card-primary card-outline">
                <div class="card-body">
                  <div class="pac-card" id="pac-card">
                    <div>
                      <div id="title" th:text="#{pages.google-maps.title}">Choose place</div>
                      <div id="type-selector" class="pac-controls">
                        <input type="radio" name="type" id="changetype-address" checked="checked"/>
                        <label for="changetype-address" th:text="#{pages.google-maps.addresses}">Addresses</label>

                        <input type="radio" name="type" id="changetype-establishment"/>
                        <label for="changetype-establishment" th:text="#{pages.google-maps.establishments}">Establishments</label>
                      </div>
                    </div>
                    <div id="pac-container">
                      <input id="pac-input" type="text" th:placeholder="#{pages.google-maps.placeholder}"/>
                    </div>
                  </div>

                  <div id="map" style="height: 70vh; width: 100%"></div>

                  <div id="infowindow-content">
                    <img src="" width="16" height="16" id="place-icon"/>
                    <span id="place-name" class="title"></span><br/>
                    <span id="place-address"></span><br/>

                    <form id="form"
                          onsubmit="disableSendButton(this)"
                          th:action="@{/user/hourly-result-form}"
                          method="post"
                          th:object="${requestHourlyResultDto}">
                      <input type="text"
                             id="postalCode"
                             name="postalCode"
                             th:field="*{locationDto.postalCode}"
                             hidden>
                      <input type="text"
                             id="countryCode"
                             name="countryCode"
                             th:field="*{locationDto.countryCode}"
                             hidden>
                      <input type="text"
                             id="placeId"
                             name="placeId"
                             th:field="*{locationDto.placeId}"
                             hidden>
                      <input type="text"
                             id="formattedAddress"
                             name="formattedAddress"
                             th:field="*{locationDto.formattedAddress}"
                             hidden>
                      <label for="localDateTime" th:text="#{pages.google-maps.local-date-time}">Select date and time:</label>
                      <input type="datetime-local"
                             id="localDateTime"
                             name="localDateTime"
                             step="3600"
                             th:field="*{localDateTime}"
                             required>
                      <button type="submit" class="btn btn-sm btn-primary" data-toggle="modal"
                              data-target="#loading-modal"><span
                              th:text="#{pages.google-maps.submit-button}">Submit</span></button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- /.row -->
        </div>
        <!-- /.container-fluid -->

        <!-- Modal -->
        <div class="modal fade" id="loading-modal" tabindex="-1" role="dialog" aria-labelledby="loading-modal"
             aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"><i class="fas fa-sync fa-spin"></i> <span
                        th:text="#{pages.google-maps.modal.title}">Loading results</span></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p th:text="#{pages.google-maps.modal.description}">Please wait - predicting may take up to 60
                  seconds!</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal"><span
                        th:text="#{pages.google-maps.modal.button}">Close</span></button>
              </div>
            </div>
          </div>
        </div>
        <!-- /.modal -->

      </div>
      <!-- /.content -->

    </div>
    <!-- /.content-wrapper -->

    <!-- Control Sidebar -->

    <!-- Main Footer -->
    <div th:replace="fragments/footer :: footer">
      Main Footer
    </div>
  </div>
  <!-- ./wrapper -->

  <!-- REQUIRED SCRIPTS -->

  <!-- jQuery -->
  <script th:src="@{/plugins/jquery/jquery.min.js}"></script>
  <!-- Bootstrap 4 -->
  <script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
  <!-- AdminLTE App -->
  <script th:src="@{/dist/js/adminlte.min.js}"></script>
  <!-- Google Maps Autocomplete -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAibLFtxSmWFtuJPHl90pTl5FZlgJR6AzM&callback=initMap&libraries=places&v=weekly"
          defer></script>
  <script th:src="@{/js/google-maps-autocomplete-form.js}"></script>
</body>
</html>
