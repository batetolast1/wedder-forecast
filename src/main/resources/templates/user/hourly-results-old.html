<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="#{pages.hourly-results.title}"></title>
    <link rel="shortcut icon" th:href="@{/images/favicon.ico}">
</head>
<body>
    <nav th:replace="fragments/header :: header">
        <h1>Header</h1>
    </nav>

    <h1 th:text="#{pages.hourly-results.title}">Dashboard</h1>

    <div th:if="${hourlyResultDtos.isEmpty()}">
        <h2>No hourly predictions found!</h2>
        <a th:href="@{/user/hourly-result-form}"
           th:text="#{pages.navbar.hourly-result-form}">Predict first hourly weather!</a>
    </div>

    <h2>Predicted hourly weathers</h2>

    <div th:each="hourlyResultDto: ${hourlyResultDtos}">

        <table>
            <tr>
                <th>Date</th>

                <th>Temperature</th>
                <th>+/-</th>

                <th>"feels like" temperature</th>
                <th>+/-</th>

                <th>Heat Index</th>
                <th>+/-</th>

                <th>Pressure</th>
                <th>+/-</th>

                <th>Precipitation</th>
                <th>+/-</th>

                <th>Snowfall</th>
                <th>+/-</th>

                <th>Cloud cover</th>
                <th>+/-</th>

                <th>Wind speed</th>
                <th>+/-</th>

                <th>Relative humidity</th>
                <th>+/-</th>

                <th>Overall rating</th>
            </tr>
            <tr>
                <td th:text="${hourlyResultDto.localDateTime}">Result date</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.temp}">Result temp</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.tempDeviation}">Result temp deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.feelsLike}">Result feels like</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.feelsLikeDeviation}">Result feels like deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.heatIndex}">Result Heat Index</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.heatIndexDeviation}">Result Heat Index deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.mslPres}">Result pressure</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.mslPresDeviation}">Result pressure deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.precip}">Result precip</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.precipDeviation}">Result precip deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.snowfall}">Result snowfall</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.snowfallDeviation}">Result snowfall deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.cldCvr}">Result cldCvr</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.cldCvrDeviation}">Result cldCvr deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.windSpd}">Result windSpd</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.windSpdDeviation}">Result windSpd deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.relHum}">Result relHum</td>
                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.relHumDeviation}">Result relHum deviation</td>

                <td th:text="${hourlyResultDto.predictedHourlyWeatherDto.systemRatingDto.overall}">Result
                    systemRating overall
                </td>
            </tr>
        </table>

        <h2>Past weathers</h2>
        <table>
            <tr>
                <th>Date</th>
                <th>temperature</th>
                <th>"feels like" temperature</th>
                <th>Heat Index</th>
                <th>Pressure</th>
                <th>Precipitation</th>
                <th>Snowfall</th>
                <th>Cloud cover</th>
                <th>Wind speed</th>
                <th>Relative humidity</th>
                <th>Overall rating</th>
            </tr>
            <tr th:each="hourlyWeatherDto: ${hourlyResultDto.hourlyWeatherDtos}">
                <td th:text="${hourlyWeatherDto.timestamp}">Result date</td>
                <td th:text="${hourlyWeatherDto.temp}">Result temp</td>
                <td th:text="${hourlyWeatherDto.feelsLike}">Result feels like</td>
                <td th:text="${hourlyWeatherDto.heatIndex}">Result Heat Index</td>
                <td th:text="${hourlyWeatherDto.mslPres}">Result pressure</td>
                <td th:text="${hourlyWeatherDto.precip}">Result precip</td>
                <td th:text="${hourlyWeatherDto.snowfall}">Result snowfall</td>
                <td th:text="${hourlyWeatherDto.cldCvr}">Result cldCvr</td>
                <td th:text="${hourlyWeatherDto.windSpd}">Result windSpd</td>
                <td th:text="${hourlyWeatherDto.relHum}">Result relHum</td>
                <td th:text="${hourlyWeatherDto.systemRatingDto.overall}">Result
                    systemRating overall
                </td>
            </tr>
        </table>

        <iframe
                width="600"
                height="450"
                style="border:none"
                th:src="@{'https://www.google.com/maps/embed/v1/place?key=AIzaSyAibLFtxSmWFtuJPHl90pTl5FZlgJR6AzM&q=place_id:'+${hourlyResultDto.locationDto.placeId}}"
                allowfullscreen>
        </iframe>
    </div>

</body>
